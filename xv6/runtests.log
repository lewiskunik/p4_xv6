starting build

**********************************************************************

Test build
build xv6 using make

**********************************************************************
Trying to build project using make
make
make: Nothing to be done for `all'.


test build PASSED
 (build xv6 using make)

starting clone

**********************************************************************

Test clone
clone and verify that address space is shared

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/clone.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
ld  -m    elf_i386 -nostdlib --omagic --entry=main --section-start=.text=0x0 --output=user/bin/tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
cp user/bin/tester fs/tester
./tools/mkfs fs.img fs
used 29 (bit 1 ninode 26) free 29 total 1024
forktest
README
init
zombie
sh
rm
kill
stressfs
mkdir
tester
cat
ls
usertests
wc
grep
ln
echo
balloc: first 425 blocks have been allocated
balloc: write bitmap block at sector 28
rm user/bin/tester
make qemu-nox 
Ctrl+a h for help
/u/c/s/cs537-2/ta/tools/qemu -nographic -hdb fs.img xv6.img -smp 2
Could not open option rom 'sgabios.bin': No such file or directory
xv6...
lapicinit: 1 0xfee00000
cpu1: starting
cpu0: starting
init: starting sh
$ tester
tester
TEST PASSED
cpu1: panic: kfree
 1029de 107c2a 104140 105d02 104f5f 1061bd 105fb1 0 0 0

test clone PASSED (9 of 9)
 (clone and verify that address space is shared)

starting badclone

**********************************************************************

Test badclone
clone with bad stack argument

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/badclone.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
ld  -m    elf_i386 -nostdlib --omagic --entry=main --section-start=.text=0x0 --output=user/bin/tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
cp user/bin/tester fs/tester
./tools/mkfs fs.img fs
used 29 (bit 1 ninode 26) free 29 total 1024
forktest
README
init
zombie
sh
rm
kill
stressfs
mkdir
tester
cat
ls
usertests
wc
grep
ln
echo
balloc: first 425 blocks have been allocated
balloc: write bitmap block at sector 28
rm user/bin/tester
make qemu-nox 
Ctrl+a h for help
/u/c/s/cs537-2/ta/tools/qemu -nographic -hdb fs.img xv6.img -smp 2
Could not open option rom 'sgabios.bin': No such file or directory
xv6...
lapicinit: 1 0xfee00000
cpu1: starting
cpu0: starting
init: starting sh
$ tester
tester
user/tester.c: 31 assert failed (clone(worker, 0, stack) == -1)
TEST FAILED
zombie!


test badclone FAILED (0 of 6)
 (clone with bad stack argument)
 tester failed

starting join4

**********************************************************************

Test join4
join, not wait, should handle threads

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/join4.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
ld  -m    elf_i386 -nostdlib --omagic --entry=main --section-start=.text=0x0 --output=user/bin/tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
cp user/bin/tester fs/tester
./tools/mkfs fs.img fs
used 29 (bit 1 ninode 26) free 29 total 1024
forktest
README
init
zombie
sh
rm
kill
stressfs
mkdir
tester
cat
ls
usertests
wc
grep
ln
echo
balloc: first 426 blocks have been allocated
balloc: write bitmap block at sector 28
rm user/bin/tester
make qemu-nox 
Ctrl+a h for help
/u/c/s/cs537-2/ta/tools/qemu -nographic -hdb fs.img xv6.img -smp 2
Could not open option rom 'sgabios.bin': No such file or directory
xv6...
lapicinit: 1 0xfee00000
cpu1: starting
cpu0: starting
init: starting sh
$ tester
tester
user/tester.c: 53 assert failed (arg == 42)
TEST FAILED
zombie!
cpu1: panic: kfree
 1029de 107c2a 104140 105d02 104f5f 1061bd 105fb1 0 0 0

test join4 FAILED (0 of 3)
 (join, not wait, should handle threads)
 tester failed

starting thread2

**********************************************************************

Test thread2
memory leaks from thread library?

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/thread2.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
user/tester.c: In function ‘main’:
user/tester.c:31: error: void value not ignored as it ought to be
cc1: warnings being treated as errors
user/tester.c:33: error: implicit declaration of function ‘thread_join’
make: *** [user/tester.o] Error 1


test thread2 FAILED (0 of 7)
 (memory leaks from thread library?)
 make failed (error 2)

starting join3

**********************************************************************

Test join3
join should not handle child processes (forked)

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/join3.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
ld  -m    elf_i386 -nostdlib --omagic --entry=main --section-start=.text=0x0 --output=user/bin/tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
cp user/bin/tester fs/tester
./tools/mkfs fs.img fs
used 29 (bit 1 ninode 26) free 29 total 1024
forktest
README
init
zombie
sh
rm
kill
stressfs
mkdir
tester
cat
ls
usertests
wc
grep
ln
echo
balloc: first 424 blocks have been allocated
balloc: write bitmap block at sector 28
rm user/bin/tester
make qemu-nox 
Ctrl+a h for help
/u/c/s/cs537-2/ta/tools/qemu -nographic -hdb fs.img xv6.img -smp 2
Could not open option rom 'sgabios.bin': No such file or directory
xv6...
lapicinit: 1 0xfee00000
cpu1: starting
cpu0: starting
init: starting sh
$ tester
tester
TEST PASSED
zombie!


test join3 PASSED (3 of 3)
 (join should not handle child processes (forked))

starting join2

**********************************************************************

Test join2
join argument checking

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/join2.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
ld  -m    elf_i386 -nostdlib --omagic --entry=main --section-start=.text=0x0 --output=user/bin/tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
cp user/bin/tester fs/tester
./tools/mkfs fs.img fs
used 29 (bit 1 ninode 26) free 29 total 1024
forktest
README
init
zombie
sh
rm
kill
stressfs
mkdir
tester
cat
ls
usertests
wc
grep
ln
echo
balloc: first 426 blocks have been allocated
balloc: write bitmap block at sector 28
rm user/bin/tester
make qemu-nox 
Ctrl+a h for help
/u/c/s/cs537-2/ta/tools/qemu -nographic -hdb fs.img xv6.img -smp 2
Could not open option rom 'sgabios.bin': No such file or directory
xv6...
lapicinit: 1 0xfee00000
cpu1: starting
cpu0: starting
init: starting sh
$ tester
tester
user/tester.c: 51 assert failed (arg == 42)
TEST FAILED


test join2 FAILED (0 of 6)
 (join argument checking)
 tester failed

starting clone3

**********************************************************************

Test clone3
clone copies file descriptors, but doesn't share

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/clone3.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
ld  -m    elf_i386 -nostdlib --omagic --entry=main --section-start=.text=0x0 --output=user/bin/tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
cp user/bin/tester fs/tester
./tools/mkfs fs.img fs
used 29 (bit 1 ninode 26) free 29 total 1024
forktest
README
init
zombie
sh
rm
kill
stressfs
mkdir
tester
cat
ls
usertests
wc
grep
ln
echo
balloc: first 426 blocks have been allocated
balloc: write bitmap block at sector 28
rm user/bin/tester
make qemu-nox 
Ctrl+a h for help
/u/c/s/cs537-2/ta/tools/qemu -nographic -hdb fs.img xv6.img -smp 2
Could not open option rom 'sgabios.bin': No such file or directory
xv6...
lapicinit: 1 0xfee00000
cpu1: starting
cpu0: starting
init: starting sh
$ tester
tester
TEST PASSED


test clone3 PASSED (3 of 3)
 (clone copies file descriptors, but doesn't share)

starting clone2

**********************************************************************

Test clone2
clone and play with the argument

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/clone2.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
ld  -m    elf_i386 -nostdlib --omagic --entry=main --section-start=.text=0x0 --output=user/bin/tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
cp user/bin/tester fs/tester
./tools/mkfs fs.img fs
used 29 (bit 1 ninode 26) free 29 total 1024
forktest
README
init
zombie
sh
rm
kill
stressfs
mkdir
tester
cat
ls
usertests
wc
grep
ln
echo
balloc: first 425 blocks have been allocated
balloc: write bitmap block at sector 28
rm user/bin/tester
make qemu-nox 
Ctrl+a h for help
/u/c/s/cs537-2/ta/tools/qemu -nographic -hdb fs.img xv6.img -smp 2
Could not open option rom 'sgabios.bin': No such file or directory
xv6...
lapicinit: 1 0xfee00000
cpu1: starting
cpu0: starting
init: starting sh
$ tester
tester


test clone2 FAILED (0 of 6)
 (clone and play with the argument)
 Timelimit (10.0s) exceeded

starting stack

**********************************************************************

Test stack
set up stack correctly (and without extra items)

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/stack.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
ld  -m    elf_i386 -nostdlib --omagic --entry=main --section-start=.text=0x0 --output=user/bin/tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
cp user/bin/tester fs/tester
./tools/mkfs fs.img fs
used 29 (bit 1 ninode 26) free 29 total 1024
forktest
README
init
zombie
sh
rm
kill
stressfs
mkdir
tester
cat
ls
usertests
wc
grep
ln
echo
balloc: first 425 blocks have been allocated
balloc: write bitmap block at sector 28
rm user/bin/tester
make qemu-nox 
Ctrl+a h for help
/u/c/s/cs537-2/ta/tools/qemu -nographic -hdb fs.img xv6.img -smp 2
Could not open option rom 'sgabios.bin': No such file or directory
xv6...
lapicinit: 1 0xfee00000
cpu1: starting
cpu0: starting
init: starting sh
$ tester
tester
user/tester.c: 41 assert failed ((uint)&arg_ptr == ((uint)arg_ptr + PGSIZE - 4))
TEST FAILED


test stack FAILED (0 of 8)
 (set up stack correctly (and without extra items))
 tester failed

starting size

**********************************************************************

Test size
check that address space size is updated in threads

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/size.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
user/tester.c:13: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘lock’
user/tester.c: In function ‘main’:
user/tester.c:35: error: ‘lock’ undeclared (first use in this function)
user/tester.c:35: error: (Each undeclared identifier is reported only once
user/tester.c:35: error: for each function it appears in.)
user/tester.c:36: error: ‘lock2’ undeclared (first use in this function)
user/tester.c:42: error: void value not ignored as it ought to be
cc1: warnings being treated as errors
user/tester.c:68: error: implicit declaration of function ‘thread_join’
user/tester.c: In function ‘worker’:
user/tester.c:78: error: ‘lock’ undeclared (first use in this function)
user/tester.c:83: error: ‘lock2’ undeclared (first use in this function)
make: *** [user/tester.o] Error 1


test size FAILED (0 of 7)
 (check that address space size is updated in threads)
 make failed (error 2)

starting multi

**********************************************************************

Test multi
multiple threads with some depth of function calls

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/multi.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
user/tester.c: In function ‘main’:
user/tester.c:47: error: void value not ignored as it ought to be
cc1: warnings being treated as errors
user/tester.c:52: error: implicit declaration of function ‘thread_join’
make: *** [user/tester.o] Error 1


test multi FAILED (0 of 8)
 (multiple threads with some depth of function calls)
 make failed (error 2)

starting noexit

**********************************************************************

Test noexit
no exit call in thread, should trap at bogus address

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/noexit.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
user/tester.c: In function ‘main’:
user/tester.c:30: error: void value not ignored as it ought to be
cc1: warnings being treated as errors
user/tester.c:33: error: implicit declaration of function ‘thread_join’
make: *** [user/tester.o] Error 1


test noexit FAILED (0 of 7)
 (no exit call in thread, should trap at bogus address)
 make failed (error 2)

starting join

**********************************************************************

Test join
clone and join syscalls

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/join.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
ld  -m    elf_i386 -nostdlib --omagic --entry=main --section-start=.text=0x0 --output=user/bin/tester user/tester.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
cp user/bin/tester fs/tester
./tools/mkfs fs.img fs
used 29 (bit 1 ninode 26) free 29 total 1024
forktest
README
init
zombie
sh
rm
kill
stressfs
mkdir
tester
cat
ls
usertests
wc
grep
ln
echo
balloc: first 426 blocks have been allocated
balloc: write bitmap block at sector 28
rm user/bin/tester
make qemu-nox 
Ctrl+a h for help
/u/c/s/cs537-2/ta/tools/qemu -nographic -hdb fs.img xv6.img -smp 2
Could not open option rom 'sgabios.bin': No such file or directory
xv6...
lapicinit: 1 0xfee00000
cpu1: starting
cpu0: starting
init: starting sh
$ tester
tester
user/tester.c: 52 assert failed (arg == 42)
TEST FAILED


test join FAILED (0 of 9)
 (clone and join syscalls)
 tester failed

starting thread

**********************************************************************

Test thread
thread user library functions

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/thread.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
user/tester.c: In function ‘main’:
user/tester.c:29: error: void value not ignored as it ought to be
cc1: warnings being treated as errors
user/tester.c:32: error: implicit declaration of function ‘thread_join’
make: *** [user/tester.o] Error 1


test thread FAILED (0 of 10)
 (thread user library functions)
 make failed (error 2)

starting locks

**********************************************************************

Test locks
test lock correctness

**********************************************************************
Running xv6 user progam /u/c/s/cs537-1/ta/tests/4b/tests/locks.c
Trying to build project using make
make
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 \
		-M -MG user/tester.c -MF user/tester.d -MT user/tester.d -MT user/tester.o
gcc  -I include -nostdinc -Wall -Werror -ggdb -fno-pic -fno-builtin -fno-strict-aliasing -fno-stack-protector -m32 -c -o user/tester.o user/tester.c
user/tester.c:12: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘lock’
user/tester.c: In function ‘main’:
user/tester.c:32: error: ‘lock’ undeclared (first use in this function)
user/tester.c:32: error: (Each undeclared identifier is reported only once
user/tester.c:32: error: for each function it appears in.)
user/tester.c:36: error: void value not ignored as it ought to be
cc1: warnings being treated as errors
user/tester.c:41: error: implicit declaration of function ‘thread_join’
user/tester.c: In function ‘worker’:
user/tester.c:55: error: ‘lock’ undeclared (first use in this function)
make: *** [user/tester.o] Error 1


test locks FAILED (0 of 8)
 (test lock correctness)
 make failed (error 2)

**********************************************************************
Summary:
test build PASSED
 (build xv6 using make)

test clone PASSED (9 of 9)
 (clone and verify that address space is shared)

test badclone FAILED (0 of 6)
 (clone with bad stack argument)
 tester failed

test join4 FAILED (0 of 3)
 (join, not wait, should handle threads)
 tester failed

test thread2 FAILED (0 of 7)
 (memory leaks from thread library?)
 make failed (error 2)

test join3 PASSED (3 of 3)
 (join should not handle child processes (forked))

test join2 FAILED (0 of 6)
 (join argument checking)
 tester failed

test clone3 PASSED (3 of 3)
 (clone copies file descriptors, but doesn't share)

test clone2 FAILED (0 of 6)
 (clone and play with the argument)
 Timelimit (10.0s) exceeded

test stack FAILED (0 of 8)
 (set up stack correctly (and without extra items))
 tester failed

test size FAILED (0 of 7)
 (check that address space size is updated in threads)
 make failed (error 2)

test multi FAILED (0 of 8)
 (multiple threads with some depth of function calls)
 make failed (error 2)

test noexit FAILED (0 of 7)
 (no exit call in thread, should trap at bogus address)
 make failed (error 2)

test join FAILED (0 of 9)
 (clone and join syscalls)
 tester failed

test thread FAILED (0 of 10)
 (thread user library functions)
 make failed (error 2)

test locks FAILED (0 of 8)
 (test lock correctness)
 make failed (error 2)

Passed 4 of 16 tests.
Overall 4 of 16
Points 15 of 100
